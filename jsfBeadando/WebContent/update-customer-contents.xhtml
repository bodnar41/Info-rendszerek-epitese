<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<div align="center">	
      	<br/>
		<h:outputText value="Update customer" styleClass="contentsTitle"/>	
		<f:event listener="#{backingEditCustomer.init()}" type="preRenderView" />	
		<br/><br/>
		<h:form>
			<h:panelGrid columns="2">
				Id:
				<h:outputText value="#{backingEditCustomer.customer.id}" />

				Name:
				<h:inputText id="firstName" value="#{backingEditCustomer.customer.firstName}" 
					required="true"
				    requiredMessage="'First name' cannot be empty"/>
    		
				Cím:
				<h:inputText value="#{backingEditCustomer.customer.cim}"
					required="true"
				    requiredMessage="'Cím' cannot be empty"/>
 				
				Bank:				
				<h:selectOneMenu id="subscriptions" 
				                 value="#{backingEditCustomer.customer.company}">
	  				<f:selectItems value="#{backingEditCustomer.companiesList}"
		                 var="company"
		                 itemValue="#{company.name}"
		                 itemLabel="#{company.name}"/>
				</h:selectOneMenu>			
					
				Customer number:
				<h:inputText 
					id="emplNumber" 
					value="#{backingEditCustomer.customer.emplNumber}"
					validatorMessage="Customer number must be of 5 chars">
				</h:inputText>
				
 				Money (€):
				<h:inputText id="salary" value="#{backingEditCustomer.customer.salary}"/>
								
			</h:panelGrid>
			
			<div align="center">
				<h:message for = "emplNumber" style = "color:red" />			
				<h:message for = "cim" style = "color:red" />			
				<h:message for = "salary" style = "color:red" />			
				<br/>
				<h:commandButton value="Cancel" immediate="true" action="customers"/>
				
				<h:commandButton value="Update" style="margin-left:5px" action="#{backingEditCustomer.updateCustomer()}"/>
			</div>
			
    	</h:form>	
	</div>
	<br/>
</ui:composition>